<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">


	<div id="headerMainDiv" class="bgded overlay"
		style="background-image: url('../resources/images/cinema-21.jpg');">
		<div id="headerDiv" class="wrapper row1">
			<header id="header" class="hoc clear">
				<nav id="mainav" class="fl_left">
					<ul class="clear">
						<li class="active"><a href="index.xhtml">Faqja Kryesore</a></li>
						<li><a href="search.xhtml">Filmat e Fundit</a></li>
						<li><a href="contact.xhtml">Na kontaktoni</a></li>
					</ul>
				</nav>

				<div id="logo" class="fl_right">
					<h:form style="background: transparent">
						<p:commandLink id="logInLink" title="Hyr ose Regjistrohu"
							oncomplete="PF('logInDialog').show();">
							<h:outputText id="logInText" value="HYR / REGJISTROHU"
								styleClass="logText" />
						</p:commandLink>
					</h:form>

					<p:dialog id="logDialog" header="Hyr | Ju lutem fusni kredencialet"
						widgetVar="logInDialog" minHeight="40">
						<h:form id="logInForm" styleClass="dialog">
							<p:message id="emailMessage" for="email"></p:message>
							<h:panelGrid id="inputPanel" columns="2" cellpadding="10">
								<h:outputLabel value="Email: "></h:outputLabel>
								<p:inputText id="email" value="#{userBean.email}"
									styleClass="redText" required="true"
									requiredMessage="Emaili nuk mund te lihet bosh!"
									validatorMessage="Emaili duhet te jete i formes ...@...">
									<f:validateRegex pattern="(.+@.+\.[a-zA-Z]+)?" />
								</p:inputText>
								<h:outputLabel value="Password: "></h:outputLabel>
								<p:password id="password" value="#{userBean.password}"
									styleClass="redText"></p:password>

							</h:panelGrid>

							<h:panelGrid columns="1">
								<p:commandButton action="#{userBean.LogIn()}" value="Hyr"
									styleClass="login" update="logInForm"></p:commandButton>
								<p:commandLink
									oncomplete="PF('logInDialog').hide(); PF('RegisterDialog').show();"
									title="Regjistrohu">
									<h:outputText style="margin:0 auto; text-decoration:underline"
										value="Ose Regjistrohu" />
								</p:commandLink>
							</h:panelGrid>
						</h:form>
					</p:dialog>

					<p:dialog id="registerDialog"
						header="Regjistrohu | Ju lutem fusni te dhenat"
						widgetVar="RegisterDialog" minHeight="40">
						<h:form id="registerForm" styleClass="dialog">
							<p:message id="nameMessage" for="name"></p:message>
							<p:message id="lastnameMessage" for="lastname"></p:message>
							<p:message id="emailMessage" for="email"></p:message>
							<h:panelGrid id="registerPanel" columns="2" cellpadding="10">

								<h:outputLabel value="Emri: "></h:outputLabel>
								<p:inputText id="name" value="#{userBean.newUser.name}"
									required="true" requiredMessage="Duhet plotesuar emri!"></p:inputText>

								<h:outputLabel value="Mbiemri: "></h:outputLabel>
								<p:inputText id="lastname" value="#{userBean.newUser.lastname}"
									required="true" requiredMessage="Duhet plotesuar mbiemri!"></p:inputText>

								<h:outputLabel value="Email: "></h:outputLabel>
								<p:inputText id="email" value="#{userBean.newUser.email}"
									required="true"
									requiredMessage="Emaili nuk mund te lihet bosh!"
									validatorMessage="Emaili duhet te jete i formes ...@...">
									<f:validateRegex pattern="(.+@.+\.[a-zA-Z]+)?" />
								</p:inputText>

								<h:outputLabel value="Password: "></h:outputLabel>
								<p:password value="#{userBean.newUser.password}" required="true"
									requiredMessage="Duhet plotesuar passwordi!"></p:password>

								<h:outputLabel value="Konfirmimi i Password-it: "></h:outputLabel>
								<p:password value="#{userBean.passwordConfirmation}"
									required="true" requiredMessage="Duhet konfirmuar passwordi!"></p:password>

							</h:panelGrid>

							<h:panelGrid columns="1">
								<p:commandButton value="Regjistrohu" styleClass="login"
									action="#{userBean.Register()}" update="registerForm"></p:commandButton>

								<p:commandLink
									oncomplete="PF('logInDialog').show(); PF('RegisterDialog').hide();"
									title="Hyr">
									<h:outputText style="margin:0 auto; text-decoration:underline"
										value="Ose Hyr"></h:outputText>
								</p:commandLink>
							</h:panelGrid>
						</h:form>
					</p:dialog>
				</div>
			</header>
		</div>
	</div>

</ui:composition>